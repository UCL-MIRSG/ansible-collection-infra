# mirsg.infrastructure.monitoring_client
monitoring_client_certificate_cache_directory: "{{ lookup('env', 'HOME') }}/ansible_persistent_files/monitoring_server_certificates"
monitoring_client_certificate_file: "{{ hostvars[inventory_hostname]['hostname'] }}.cert"
monitoring_client_exporter_username: prometheus
monitoring_client_exporter_password: prometheus

# mirsg.infrastructure.monitoring_server
monitoring_server_certificate_cache_directory: "{{ monitoring_client_certificate_cache_directory }}"
monitoring_server_ssl_cert: "/etc/ssl/certs/{{ hostvars['mserv']['hostname'] }}.cert"
monitoring_server_ssl_key: "/etc/ssl/certs/{{ hostvars['mserv']['hostname'] }}.key"
monitoring_server_client_hostnames:
  - "{{ hostvars['mclient']['hostname'] }}"

# mirsg.infrastructure.docker
docker_client_certificate_cache_directory: "{{ monitoring_server_certificate_cache_directory }}"
docker_server_hostname: "{{ hostvars['mserv']['hostname'] }}"
docker_server_ip: "{{ hostvars['mserv']['ansible_ip'] }}"
docker_server_port: "2376"
docker_service_name: docker
docker_generate_certificates: true # generate TLS certs for clients
docker_client_hostnames: "{{ monitoring_server_client_hostnames }}"
docker_tls_verify: true
